var pageNumber=1,pageSize=10,totalPages=1;$(document).ready(function(){$("#navigation #navOrders").addClass("active").parents("li").addClass("active").addClass("open").find(".sub-menu").slideDown();getOrders();document.getElementById("previous").onclick=function(){--pageNumber;pageNumber===1?this.style.display="none":this.setAttribute("disabled","disabled");getOrders(pageNumber,pageSize)};document.getElementById("next").onclick=function(){++pageNumber;pageNumber===totalPages?this.style.display="none":this.setAttribute("disabled","disabled");getOrders(pageNumber,pageSize)}});createList=function(n){return n.data.length>0&&($("#noData").remove(),$("#list").empty()),$.each(n.data,function(n,t){var r="#list",i="#item"+t.id;$("#CloneRowObject").clone().appendTo(r);$(r).find("#CloneRowObject").removeClass("hidden").data("id",t.id).attr("id","item"+t.id);$(i).find("#orderNumber").append(t.orderNumber);$(i).find("#name").append(t.name);$(i).find("#status span").addClass(t.statusClass).append(t.status);$(i).find("#transaction").append(t.transaction);$(i).find("#date").append(t.date);$(i+" a.link").attr("href",$(i+" a.link").attr("href")+t.id)}),$("#main-wrapper").fadeIn(500),!0};getOrders=function(n=1,t=10){$.ajax({url:"/spine-api/orders",dataType:"json",data:{pageNumber:n,pageSize:t},type:"get",contentType:"application/json;",success:function(t){return createList(t.value),n=t.value.currentPage,totalPages=t.value.totalPages,n===1?document.getElementById("previous").style.display="none":(document.getElementById("previous").style.display="inline-block",document.getElementById("previous").removeAttribute("disabled")),n===totalPages?document.getElementById("next").style.display="none":(document.getElementById("next").style.display="inline-block",document.getElementById("next").removeAttribute("disabled","disabled")),!0},error:function(n){if(n.status===401||n.status===403)toastr.warning("You are unauthorized to do this. You will be redirected to the login screen."),setTimeout(function(){location.href="/"},4500);else{var t=n.responseJSON.value;t.redirect!==null&&typeof t.redirect!="undefined"&&(location.href=t.redirect);toastr[t.messageType](t.message)}return!0}})};