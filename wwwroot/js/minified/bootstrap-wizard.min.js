/*!
 * jQuery twitter bootstrap wizard plugin
 * Examples and documentation at: http://github.com/VinceG/twitter-bootstrap-wizard
 * version 1.0
 * Requires jQuery v1.3.2 or later
 * Supports Bootstrap 2.2.x, 2.3.x, 3.0
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 * Authors: Vadim Vincent Gabriel (http://vadimg.com), Jason Gill (www.gilluminate.com)
 */
!function(n){var t=function(t,i){var t=n(t),u=this,e='li:has([data-toggle="tab"])',s=[],r=n.extend({},n.fn.bootstrapWizard.defaults,i),o=null,f=null,h,c;this.rebindClick=function(n,t){n.unbind("click",t).bind("click",t)};this.fixNavigationButtons=function(){return o.length||(f.find("a:first").tab("show"),o=f.find(e+":first")),n(r.previousSelector,t).toggleClass("disabled",u.firstIndex()>=u.currentIndex()),n(r.nextSelector,t).toggleClass("disabled",u.currentIndex()>=u.navigationLength()),n(r.nextSelector,t).toggleClass("hidden",u.currentIndex()>=u.navigationLength()&&n(r.finishSelector,t).length>0),n(r.lastSelector,t).toggleClass("hidden",u.currentIndex()>=u.navigationLength()&&n(r.finishSelector,t).length>0),n(r.finishSelector,t).toggleClass("hidden",u.currentIndex()<u.navigationLength()),n(r.backSelector,t).toggleClass("disabled",0==s.length),n(r.backSelector,t).toggleClass("hidden",u.currentIndex()>=u.navigationLength()&&n(r.finishSelector,t).length>0),u.rebindClick(n(r.nextSelector,t),u.next),u.rebindClick(n(r.previousSelector,t),u.previous),u.rebindClick(n(r.lastSelector,t),u.last),u.rebindClick(n(r.firstSelector,t),u.first),u.rebindClick(n(r.finishSelector,t),u.finish),u.rebindClick(n(r.backSelector,t),u.back),r.onTabShow&&"function"==typeof r.onTabShow&&r.onTabShow(o,f,u.currentIndex())===!1?!1:void 0};this.next=function(){if(t.hasClass("last")||r.onNext&&"function"==typeof r.onNext&&r.onNext(o,f,u.nextIndex())===!1)return!1;var i=u.currentIndex(),n=u.nextIndex();n>u.navigationLength()||(s.push(i),f.find(e+(r.withVisible?":visible":"")+":eq("+n+") a").tab("show"))};this.previous=function(){if(t.hasClass("first")||r.onPrevious&&"function"==typeof r.onPrevious&&r.onPrevious(o,f,u.previousIndex())===!1)return!1;var i=u.currentIndex(),n=u.previousIndex();0>n||(s.push(i),f.find(e+(r.withVisible?":visible":"")+":eq("+n+") a").tab("show"))};this.first=function(){return r.onFirst&&"function"==typeof r.onFirst&&r.onFirst(o,f,u.firstIndex())===!1?!1:t.hasClass("disabled")?!1:(s.push(u.currentIndex()),void f.find(e+":eq(0) a").tab("show"))};this.last=function(){return r.onLast&&"function"==typeof r.onLast&&r.onLast(o,f,u.lastIndex())===!1?!1:t.hasClass("disabled")?!1:(s.push(u.currentIndex()),void f.find(e+":eq("+u.navigationLength()+") a").tab("show"))};this.finish=function(){r.onFinish&&"function"==typeof r.onFinish&&r.onFinish(o,f,u.lastIndex())};this.back=function(){if(0==s.length)return null;var n=s.pop();return r.onBack&&"function"==typeof r.onBack&&r.onBack(o,f,n)===!1?(s.push(n),!1):void t.find(e+":eq("+n+") a").tab("show")};this.currentIndex=function(){return f.find(e).index(o)};this.firstIndex=function(){return 0};this.lastIndex=function(){return u.navigationLength()};this.getIndex=function(n){return f.find(e).index(n)};this.nextIndex=function(){var n=this.currentIndex(),t=null;do n++,t=f.find(e+":eq("+n+")");while(t&&t.hasClass("disabled"));return n};this.previousIndex=function(){var n=this.currentIndex(),t=null;do n--,t=f.find(e+":eq("+n+")");while(t&&t.hasClass("disabled"));return n};this.navigationLength=function(){return f.find(e).length-1};this.activeTab=function(){return o};this.nextTab=function(){return f.find(e+":eq("+(u.currentIndex()+1)+")").length?f.find(e+":eq("+(u.currentIndex()+1)+")"):null};this.previousTab=function(){return u.currentIndex()<=0?null:f.find(e+":eq("+parseInt(u.currentIndex()-1)+")")};this.show=function(n){var i=isNaN(n)?t.find(e+' a[href="#'+n+'"]'):t.find(e+":eq("+n+") a");i.length>0&&(s.push(u.currentIndex()),i.tab("show"))};this.disable=function(n){f.find(e+":eq("+n+")").addClass("disabled")};this.enable=function(n){f.find(e+":eq("+n+")").removeClass("disabled")};this.hide=function(n){f.find(e+":eq("+n+")").hide()};this.display=function(n){f.find(e+":eq("+n+")").show()};this.remove=function(t){var u=t[0],o="undefined"!=typeof t[1]?t[1]:!1,i=f.find(e+":eq("+u+")"),r;o&&(r=i.find("a").attr("href"),n(r).remove());i.remove()};h=function(t){var i=f.find(e),s=i.index(n(t.currentTarget).parent(e)),h=n(i[s]);if(r.onTabClick&&"function"==typeof r.onTabClick&&r.onTabClick(o,f,u.currentIndex(),s,h)===!1)return!1};c=function(t){var i=n(t.target).parent(),s=f.find(e).index(i);return i.hasClass("disabled")?!1:r.onTabChange&&"function"==typeof r.onTabChange&&r.onTabChange(o,f,u.currentIndex(),s)===!1?!1:(o=i,void u.fixNavigationButtons())};this.resetWizard=function(){n('a[data-toggle="tab"]',f).off("click",h);n('a[data-toggle="tab"]',f).off("show show.bs.tab",c);f=t.find("ul:first",t);o=f.find(e+".active",t);n('a[data-toggle="tab"]',f).on("click",h);n('a[data-toggle="tab"]',f).on("show show.bs.tab",c);u.fixNavigationButtons()};f=t.find("ul:first",t);o=f.find(e+".active",t);f.hasClass(r.tabClass)||f.addClass(r.tabClass);r.onInit&&"function"==typeof r.onInit&&r.onInit(o,f,0);r.onShow&&"function"==typeof r.onShow&&r.onShow(o,f,u.nextIndex());n('a[data-toggle="tab"]',f).on("click",h);n('a[data-toggle="tab"]',f).on("show show.bs.tab",c)};n.fn.bootstrapWizard=function(i){if("string"==typeof i){var r=Array.prototype.slice.call(arguments,1);return 1===r.length&&r.toString(),this.data("bootstrapWizard")[i](r)}return this.each(function(){var r=n(this),u;r.data("bootstrapWizard")||(u=new t(r,i),r.data("bootstrapWizard",u),u.fixNavigationButtons())})};n.fn.bootstrapWizard.defaults={withVisible:!0,tabClass:"nav nav-pills",nextSelector:".wizard li.next",previousSelector:".wizard li.previous",firstSelector:".wizard li.first",lastSelector:".wizard li.last",finishSelector:".wizard li.finish",backSelector:".wizard li.back",onShow:null,onInit:null,onNext:null,onPrevious:null,onLast:null,onFirst:null,onFinish:null,onBack:null,onTabChange:null,onTabClick:null,onTabShow:null}}(jQuery);